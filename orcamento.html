<!DOCTYPE html>
<html lang="pt-br">

<head>
    <script src="caminho/para/search.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Jet Flow</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="bootstrap/css/bootstrap-reboot.min.css">
    <link rel="stylesheet" href="css/css.css">
</head>

<body id="fundo_orcamento"
    style="background-image: url('img/lojajetflow3.png');  background-size: cover; background-repeat: no-repeat; background-attachment: fixed;">
    <container>
        <div>
            <nav id="menuSuperiorCadastro" class="navbar navbar-expand-lg">
                <img src="img/jetFlowG.jpg" width="80px" class="navbar-brand" routerLink="/">
                <div class="navbar-nav">
                    <a class="nav-item nav-link active" href=""><span class="sr-only">(current)</span></a>
                    <a class="nav-item nav-link active" href=""><span class="sr-only">(current)</span></a>
                    <a class="nav-item nav-link text-white " href="./index.html">Login</a>
                    <a class="nav-item nav-link text-white" href="./cadastro.html">Cadastro Clientes</a>
                    <a class="nav-item nav-link text-white" href="./orcamento.html">Orçamento</a>
                    <a class="nav-item nav-link text-white" href="./consultaOrcamento.html">Consulta Orçamentos</a>
                </div>
            </nav>
        </div>
    </container>
    <container>
        <main>
            <main>
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-lg-12">
                            <div class="card shadow-lg border-0 rounded-lg mt-3"
                                style="background-color: rgba(255, 255, 255, 0.8);">
                                <div class="card-header">
                                    <h3 class="text-left font-weight-bold font-weight-light my-6">
                                        Orçamento</h3>
                                </div>
                                <div class="card-body">

                                    <body>
                                        <div class="container mt-5">
                                            <form action="processa_formulario_orcamento.php" method="POST">
                                                <div class="row mb-3">
                                                    <div class="col-md-4">
                                                        <div class="form-floating mb-3">
                                                            <label for="inputCpf">CPF</label>
                                                            <input name="cpf" class="form-control" id="inputCpf" type="text" placeholder="CPF" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-floating mb-3">
                                                            <label for="inputDate">Data</label>
                                                            <input name="data" class="form-control" id="inputData" type="text" placeholder="DD/MM/AAAA" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-floating mb-3">
                                                            <label for="inputNome">Nome</label>
                                                            <input name="nome" class="form-control" id="inputNome" type="text" placeholder="Nome" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-floating mb-3">
                                                            <label for="inputMarcaModelo">Marca/Modelo</label>
                                                            <input class="form-control" type="text" name="marca" placeholder="Marca/Modelo"/>
                                                        </div>
                                                    </div>
                                                </div>
                                    
                                                <!-- Campos de serviços -->
                                                <div id="itens-container">
                                                     <div class="container-fluid">
                                                    <div class="item-row row mb-3" >
                                                        <div class="col-md-1,5">
                                                            <div class="form-floating mb-3" style="width: 100px;">
                                                                <label for="inputItem">Item</label>
                                                                <input class="form-control item" type="text" name="item[]" />
                                                            </div>
                                                        </div>
                                                        <div>
                                                        <div class="col-md-3">
                                                            <div class="form-floating mb-3"  style="width: 400px;">
                                                                <label for="inputDescricao">Descrição do Serviço</label>
                                                                <input class="form-control descricao" type="text" name="descricao[]" />
                                                            </div>
                                                        </div>
                                                        </div>
                                                        <div class="col-md-2 row">
                                                            <div class="form-floating mb-3">
                                                                <label for="inputQuantidade">Quantidade</label>
                                                                <input class="form-control quantidade" type="number" name="quantidade[]" />
                                                            </div>
                                                        </div>
                                                        <div class="col-md-2">
                                                            <div class="form-floating mb-3">
                                                                <label for="inputPreco">Preço Unitário</label>
                                                                <input class="form-control preco" type="number" step="0.01" name="preco[]" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                </div>
                                    
                                                <div class="row mb-3">
                                                    <div class="col-md-2">
                                                        <button type="button" class="btn btn-primary" id="adicionarItem">Adicionar Item</button>
                                                    </div>
                                                </div>
                                    
                                                <div class="row mb-3">
                                                    <div class="col-md-3">
                                                        <div class="form-floating mb-3">
                                                            <label for="inputTotalGeral">Total Geral</label>
                                                            <input class="form-control total-geral" type="text" name="total" readonly />
                                                        </div>
                                                    </div>
                                                </div>
                                    
                                                <div class="mt-4 mb-0">
                                                    <div class="d-grid">
                                                        <button type="submit" class="btn btn-primary btn-block">Salvar Cadastro</button>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    
                                        <!-- Bootstrap JS -->
                                        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
                                        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
                                        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
                                    
                                        <script>
                                            $(document).ready(function () {
                                                $('#adicionarItem').click(function () {
                                                    const novoItem = $('.item-row:first').clone();
                                                    novoItem.find('input').val('');
                                                    $('#itens-container').append(novoItem);
                                                });
                                    
                                                $(document).on('input', '.preco, .quantidade', function () {
                                                    var totalGeral = 0;
                                                    $('.item-row').each(function () {
                                                        var preco = parseFloat($(this).find('.preco').val());
                                                        var quantidade = parseInt($(this).find('.quantidade').val());
                                                        var totalItem = preco * quantidade;
                                                        $(this).find('.total').val(totalItem.toFixed(2));
                                                        totalGeral += totalItem;
                                                    });
                                                    $('.total-geral').val(totalGeral.toFixed(2));
                                                });
                                            });
                                        </script>
                                    </body>
                                   

</html>